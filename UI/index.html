<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="script.js" defer></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>АИС "Обучение на курсах" - SPA Прототип</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo"><i class="fas fa-graduation-cap"></i> АИС "Обучение на курсах"</h1>
            <nav class="nav" aria-label="Главное меню">
                <ul>
                    <li><a class="nav-btn" href="#welcome"><i class="fas fa-home"></i> Каталог</a></li>
                    <li><a class="nav-btn" href="#assignments"><i class="fas fa-tasks"></i> Задания</a></li>
                    <li><a class="nav-btn" href="#profile"><i class="fas fa-user"></i> Профиль</a></li>
                    <li><a class="nav-btn admin-only" href="#admin-list" id="admin-btn"><i class="fas fa-cog"></i> Админ</a></li>
                    <li><a class="nav-btn guest-only" href="#login"><i class="fas fa-sign-in-alt"></i> Войти</a></li>
                </ul>
            </nav>

            <!-- Панель авторизации / текущий пользователь -->
            <div class="auth-panel">
                <span class="current-user-name">Гость</span>
                <button type="button" id="logout-btn" class="btn">Выйти</button>
            </div>
        </div>
    </header>

    <main class="main">

        <!-- WELCOME -->
        <section id="welcome" class="page" aria-labelledby="welcome-title">
            <div class="container">
                <h2 id="welcome-title">Добро пожаловать в АИС "Обучение на курсах"</h2>
                <p>Ваша система дистанционного обучения. Для начала работы выберите действие:</p>
                <div class="actions">
                    <a href="#login" class="submit-btn guest-only">Авторизация</a>
                    <a href="#register" class="submit-btn guest-only">Регистрация</a>
                    <a href="#home" class="nav-btn">Посмотреть курсы (Каталог)</a>
                </div>

            </div>
        </section>

        <!-- HOME / CATALOG -->
        <section id="home" class="page" aria-labelledby="home-title">
            <div class="container">
                <h2 id="home-title">Каталог доступных дисциплин</h2>
                <p>Выберите интересующую дисциплину для записи.</p>
                <div class="filters">
                    <label for="discipline-filter">Фильтр по дисциплине:</label>
                    <select id="discipline-filter" aria-label="Фильтр дисциплин"></select>
                    <button class="filter-btn" aria-label="Поиск по дисциплинам"><i class="fas fa-search"></i> Поиск</button>
                </div>

                <ul class="list" id="catalog-list" aria-live="polite"></ul>
            </div>
        </section>

        <!-- ENROLL -->
        <section id="enroll" class="page" aria-labelledby="enroll-title">
            <div class="container">
                <h2 id="enroll-title">Запись на дисциплину</h2>
                <form class="form" id="enroll-form" aria-label="Форма записи">
                    <label for="selected-discipline">Выбранная дисциплина:</label>
                    <select id="selected-discipline"></select>
                    <label for="group-select">Выберите группу:</label>
                    <select id="group-select"></select>
                    <label for="payment-amount">Сумма к оплате (с учетом скидки):</label>
                    <input type="number" id="payment-amount" value="0" readonly>
                    <p id="discount-hint" class="hint"></p>
                    <button type="submit" class="submit-btn student-only">Записаться и оплатить</button>
                    <a href="#home" class="nav-btn">Назад к каталогу</a>
                </form>
            </div>
        </section>

        <!-- LOGIN -->
        <section id="login" class="page guest-only" aria-labelledby="login-title">
            <div class="container">
                <h2 id="login-title">Авторизация</h2>
                <form class="form">
                    <label for="login-input">Логин:</label>
                    <input type="text" id="login-input" name="login" placeholder="student / teacher / admin" required>

                    <label for="password-input">Пароль:</label>
                    <input type="password" id="password-input" name="password" placeholder="123" required>

                    <button type="submit" class="submit-btn">Войти</button>
                    <a href="#register" class="nav-btn">Нет аккаунта? Зарегистрироваться</a>
                </form>
                <p>Для каталога дисциплин <a href="#home" class="wireframe-link">→ перейдите в меню</a>.</p>
            </div>
        </section>

        <!-- REGISTER -->
        <section id="register" class="page" aria-labelledby="register-title">
            <div class="container">
                <h2 id="register-title">Полная регистрация</h2>
                <!-- Макет, без JS-логики регистрации -->
                <form class="form">
                    <label for="reg-name">Имя:</label>
                    <input type="text" id="reg-name" required>
                    <label for="reg-surname">Фамилия:</label>
                    <input type="text" id="reg-surname" required>
                    <label for="reg-email">Email:</label>
                    <input type="email" id="reg-email" required>

                    <label for="reg-password">Пароль:</label>
                    <input type="password" id="reg-password" required>

                    <label for="reg-role">Роль:</label>
                    <select id="reg-role">
                        <option value="student">Student</option>
                        <option value="teacher">Teacher</option>
                    </select>
                    <a href="#profile" class="submit-btn">Зарегистрироваться</a>
                    <a href="#login" class="nav-btn">Уже есть аккаунт?</a>
                </form>
                <p>Для каталога дисциплин <a href="#home" class="wireframe-link">→ перейдите в меню</a>.</p>
            </div>
        </section>

        <!-- PROFILE -->
        <section id="profile" class="page" aria-labelledby="profile-title">
        <div class="container">
            <h2 id="profile-title">Личный кабинет</h2>
            <div class="profile-info">
            <h3>Персональные данные</h3>
            <p>Имя: <strong id="profile-name"></strong></p>
            <p>Роль: <strong id="profile-role"></strong></p>
            <p>E-mail: <span id="profile-email"></span></p>
            <a href="#profile-edit" class="action-btn">Редактировать профиль</a>
            </div>
            <div class="profile-stats">
            <h3>Мой прогресс</h3>
            <div id="student-progress" class="role-block">
                <p>Текущая дисциплина: <strong id="profile-discipline">—</strong></p>
                <p>Начальный уровень: <strong id="profile-level">—</strong></p>
                <p>Бонусные баллы: <strong id="profile-bonus">—</strong></p>
                <p>Скидка на следующий курс: <strong id="profile-discount">—</strong></p>
                <a href="#assignments" class="nav-btn">Перейти к моим заданиям</a>
            </div>
            <div id="teacher-progress" class="role-block teacher-only">
                <p>Мои группы и студенты:</p>
                <ul id="teacher-groups" class="list"></ul>
            </div>
            <div id="admin-progress" class="role-block admin-only">
                <p>Сотрудник может создавать дисциплины, группы и управлять пользователями в административном разделе.</p>
            </div>
            <a href="#home" class="nav-btn">К каталогу дисциплин</a>
            </div>
        </div>
        </section>


        <!-- PROFILE EDIT (чтобы не было чёрного экрана) -->
        <section id="profile-edit" class="page" aria-labelledby="profile-edit-title">
        <div class="container">
            <h2 id="profile-edit-title">Редактирование профиля</h2>
            <form class="form" id="profile-edit-form">
            <label for="edit-name">Имя:</label>
            <input type="text" id="edit-name" name="firstName" value="">

            <label for="edit-surname">Фамилия:</label>
            <input type="text" id="edit-surname" name="lastName" value="">

            <label for="edit-email">Email:</label>
            <input type="email" id="edit-email" name="email" value="">

            <button type="submit" class="submit-btn">Сохранить</button>
            <a href="#profile" class="nav-btn">Отмена</a>
            </form>
        </div>
        </section>


        <!-- ASSIGNMENTS -->
        <section id="assignments" class="page" aria-labelledby="assignments-title">
            <div class="container">
                <h2 id="assignments-title">Задания</h2>
                <p>Ваши задания. Для каталога дисциплин — переход через меню.</p>

                <form id="assignments-filters-form" class="filters">
                    <label for="status-filter">Фильтр по статусу:</label>
                    <select id="status-filter" name="status-filter">
                        <option>Все</option>
                        <option>В работе</option>
                        <option>На проверке</option>
                        <option>Проверено</option>
                    </select>

                    <button type="submit" class="filter-btn">
                        <i class="fas fa-search"></i> Применить фильтр
                    </button>

                    <button type="button" id="show-more-assignments" class="sort-btn">
                        Показать ещё 10 <i class="fas fa-sort"></i>
                    </button>
                </form>

                <ul class="list" id="assignments-list" aria-live="polite">
                    <!-- Здесь JS будет отрисовывать задания -->
                </ul>

                <a href="#add-assignment" class="add-btn teacher-only">
                    <i class="fas fa-plus"></i> Добавить задание (Только для Teacher)
                </a>
            </div>
        </section>

        <!-- ADD / EDIT ASSIGNMENT -->
        <section id="add-assignment" class="page" aria-labelledby="add-assignment-title">
            <div class="container">
                <h2 id="add-assignment-title">Добавить / Редактировать задание</h2>
                <form class="form">
                    <label for="add-title">Название задания:</label>
                    <input type="text" id="add-title" name="title" required>

                    <label for="add-description">Описание:</label>
                    <textarea id="add-description" name="description" required></textarea>

                    <label for="add-deadline">Срок сдачи:</label>
                    <input type="date" id="add-deadline" name="deadline" required>

                    <label for="add-discipline">Дисциплина:</label>
                    <select id="add-discipline" name="discipline" required></select>

                    <label for="add-group">Группа:</label>
                    <select id="add-group" name="group" required></select>

                    <button type="submit" class="submit-btn teacher-only">Сохранить задание</button>
                    <a href="#assignments" class="nav-btn">Назад</a>
                </form>
                <p>Для каталога <a href="#home" class="wireframe-link">→ перейдите в меню</a>.</p>
            </div>
        </section>

        <!-- RESULT -->
        <section id="result" class="page" aria-labelledby="result-title">
            <div class="container">
                <h2 id="result-title">Просмотр / Редактирование результата</h2>
                <form class="form">
                    <h3>Задание: Python код</h3>
                    <label>Статус:</label>
                    <p class="data-view"><strong>Проверено</strong></p>

                    <label for="score">Оценка:</label>
                    <input type="number" id="score" value="8" min="0" max="10">
                    <label for="comment">Комментарий преподавателя:</label>
                    <textarea id="comment">Отличное начало! Проверьте обработку ошибок.</textarea>

                    <label>Начисленные бонусные баллы:</label>
                    <input type="number" value="2" min="0">
                    <a href="#assignments" class="submit-btn">Сохранить изменения</a>
                    <a href="#assignments" class="nav-btn">Назад к заданиям</a>
                </form>
                <p>Для каталога <a href="#home" class="wireframe-link">→ перейдите в меню</a>.</p>
            </div>
        </section>

        <!-- ADMIN LIST -->
        <section id="admin-list" class="page admin-only" aria-labelledby="admin-list-title">
            <div class="container">
                <h2 id="admin-list-title">Админ-панель: управление пользователями</h2>

                <div class="filters admin-filters">
                    <label for="user-search">Поиск пользователя:</label>
                    <input id="user-search" placeholder="Имя, email..." />

                    <label for="role-filter">Роль:</label>
                    <select id="role-filter">
                        <option value="">Все</option>
                        <option value="student">Student</option>
                        <option value="teacher">Teacher</option>
                        <option value="admin">Admin</option>
                    </select>

                    <label for="user-sort">Сортировка:</label>
                    <select id="user-sort">
                        <option value="name">По имени (А→Я)</option>
                        <option value="role">По роли</option>
                    </select>

                    <a href="#admin-add" class="add-btn"><i class="fas fa-user-plus"></i> Добавить пользователя</a>
                </div>

                <ul class="list admin-list" id="admin-users" aria-live="polite"></ul>
            </div>
        </section>

        <!-- ADMIN ADD -->
        <section id="admin-add" class="page admin-only" aria-labelledby="admin-add-title">
            <div class="container">
                <h2 id="admin-add-title">Админ: Добавить пользователя</h2>
                <form class="form" id="admin-add-form">
                    <label for="user-login">Логин:</label>
                    <input type="text" id="user-login" required>

                    <label for="user-password">Пароль:</label>
                    <input type="password" id="user-password" required>

                    <label for="user-name">Имя пользователя:</label>
                    <input type="text" id="user-name" required>

                    <label for="user-email">Email:</label>
                    <input type="email" id="user-email" required>

                    <label for="user-role">Роль:</label>
                    <select id="user-role">
                        <option value="student">Student</option>
                        <option value="teacher">Teacher</option>
                        <option value="admin">Admin</option>
                    </select>

                    <label for="user-discipline">Дисциплина (для Teacher):</label>
                    <select id="user-discipline"></select>

                    <label for="group">Группа (для Student):</label>
                    <select id="group"></select>

                    <button type="submit" class="submit-btn">Добавить пользователя</button>
                    <a href="#admin-list" class="nav-btn">Отмена</a>
                </form>
            </div>
        </section>

        <!-- ADMIN EDIT -->
        <section id="admin-edit" class="page admin-only" aria-labelledby="admin-edit-title">
            <div class="container">
                <h2 id="admin-edit-title">Админ: Редактировать пользователя</h2>
                <p>Выберите пользователя в списке и воспользуйтесь быстрым редактированием через всплывающие окна. Отдельная форма не требуется.</p>
                <a href="#admin-list" class="nav-btn">Вернуться к списку</a>
            </div>
        </section>

        <!-- ADMIN DELETE -->
        <section id="admin-delete" class="page admin-only" aria-labelledby="admin-delete-title">
            <div class="container">
                <h2 id="admin-delete-title">Подтверждение удаления</h2>
                <p>Удаление пользователей выполняется из списка. Система спрашивает подтверждение перед удалением, чтобы избежать ошибок.</p>
                <a href="#admin-list" class="nav-btn">Вернуться</a>
            </div>
        </section>

        <!-- ERROR -->
        <section id="error" class="page" aria-labelledby="error-title">
            <div class="container">
                <h2 id="error-title">Ошибка 404 — Страница не найдена</h2>
                <p>Проверьте адрес или вернитесь на главную.</p>
                <a href="#home" class="nav-btn"><i class="fas fa-arrow-left"></i> На главную</a>
            </div>
        </section>

    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 АИС "Обучение на курсах". Контакты: support@learning.ru</p>
        </div>
    </footer>
</body>
</html>
